<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sand Pavilion ‚Äî Living Library</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Merriweather', serif;
            background: linear-gradient(160deg, #1b1a24, #402f1d 45%, #c69b58 100%);
            color: #fef6e4;
            min-height: 100vh;
        }
        header {
            text-align: center;
            padding: 3rem 1rem 2rem;
        }
        header h1 { font-size: 3rem; margin-bottom: 0.6rem; letter-spacing: 0.06em; }
        header p { max-width: 760px; margin: 0 auto; font-size: 1.05rem; opacity: 0.85; }
        .blessing-banner {
            margin: 1.6rem auto 0;
            padding: 1rem 1.2rem;
            max-width: 760px;
            background: rgba(255, 245, 220, 0.1);
            border-radius: 18px;
            border: 1px solid rgba(255, 219, 144, 0.4);
            display: grid;
            gap: 0.6rem;
            font-size: 0.95rem;
        }
        .blessing-banner span {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            color: #ffe6a7;
        }
        .blessing-banner em {
            font-style: normal;
            opacity: 0.85;
        }
        .shelves {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem 3.5rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.6rem;
        }
        .shelf {
            background: rgba(24, 17, 9, 0.75);
            border-radius: 18px;
            padding: 1.8rem;
            border: 1px solid rgba(255, 219, 144, 0.3);
            box-shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
        }
        .shelf h2 { color: #ffd787; margin-bottom: 0.8rem; font-size: 1.5rem; }
        .shelf ul { list-style: none; }
        .shelf li { margin-bottom: 0.6rem; }
        .library-holdings {
            max-width: 1200px;
            margin: 0 auto 3rem;
            padding: 0 1.5rem;
        }
        .library-holdings__header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .library-holdings__header h2 {
            color: #ffe6a7;
            font-size: 2.2rem;
            margin-bottom: 0.8rem;
        }
        .library-holdings__header p {
            max-width: 860px;
            margin: 0 auto;
            line-height: 1.6;
            opacity: 0.9;
        }
        .book-grid {
            display: grid;
            gap: 1.8rem;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }
        .book-grid__empty,
        .book-grid__error {
            grid-column: 1 / -1;
            padding: 1.6rem;
            border-radius: 18px;
            border: 1px dashed rgba(255, 219, 144, 0.45);
            background: rgba(24, 17, 9, 0.55);
            text-align: center;
            line-height: 1.6;
            color: rgba(255, 230, 167, 0.85);
        }
        .book-card {
            background: rgba(24, 17, 9, 0.85);
            border-radius: 22px;
            padding: 1.8rem;
            border: 1px solid rgba(255, 219, 144, 0.35);
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        .book-card__header h3 {
            font-size: 1.6rem;
            color: #ffd787;
            margin-bottom: 0.4rem;
        }
        .book-card__lesson {
            font-size: 0.85rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: rgba(255, 230, 167, 0.8);
        }
        .book-card__author {
            font-size: 1rem;
            color: rgba(255, 230, 167, 0.9);
        }
        .book-card__meta {
            display: grid;
            gap: 0.6rem;
        }
        .book-card__meta div {
            background: rgba(255, 255, 255, 0.05);
            padding: 0.8rem;
            border-radius: 12px;
        }
        .book-card__meta dt {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.06em;
            color: rgba(255, 230, 167, 0.6);
            margin-bottom: 0.25rem;
        }
        .book-card__meta dd {
            margin: 0;
            line-height: 1.5;
        }
        .book-card__excerpt {
            font-size: 0.95rem;
            line-height: 1.7;
            color: rgba(255, 246, 228, 0.92);
            background: rgba(0, 0, 0, 0.25);
            border-left: 3px solid rgba(255, 219, 144, 0.7);
            padding: 1rem 1.2rem;
            border-radius: 16px;
        }
        .book-card__controls,
        .book-card__actions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
        }
        .button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.4rem;
            background: rgba(255, 219, 144, 0.28);
            color: #1b1a24;
            padding: 0.55rem 1.1rem;
            border-radius: 999px;
            border: 1px solid rgba(255, 219, 144, 0.6);
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: none;
            transition: background 0.3s ease, transform 0.2s ease;
        }
        .button:hover,
        .button:focus {
            background: rgba(255, 219, 144, 0.45);
            transform: translateY(-1px);
            outline: none;
        }
        .button:disabled,
        .button[aria-disabled="true"] {
            cursor: not-allowed;
            opacity: 0.6;
            background: rgba(255, 255, 255, 0.12);
            color: rgba(255, 246, 228, 0.6);
        }
        .button--ghost {
            background: transparent;
            color: #ffe6a7;
            border-color: rgba(255, 230, 167, 0.5);
        }
        .button--ghost:hover,
        .button--ghost:focus {
            background: rgba(255, 230, 167, 0.18);
            color: #1b1a24;
        }
        .tts-evaluation {
            max-width: 960px;
            margin: 0 auto 3rem;
            padding: 0 1.5rem;
            text-align: center;
        }
        .tts-evaluation h2 {
            color: #ffe6a7;
            font-size: 1.9rem;
            margin-bottom: 1rem;
        }
        .tts-evaluation p {
            line-height: 1.7;
            opacity: 0.85;
        }
        .tracks {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 18px;
            max-width: 1000px;
            margin: 0 auto 3rem;
            padding: 2rem;
            text-align: center;
        }
        .tracks h2 { color: #ffe6a7; font-size: 2rem; margin-bottom: 1rem; }
        .tracks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.2rem;
        }
        .track-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 1.4rem;
            border: 1px solid rgba(255, 219, 144, 0.2);
        }
        footer { text-align: center; padding: 2rem 1rem 3rem; font-size: 0.9rem; opacity: 0.75; }
        a.back { color: #ffd787; text-decoration: none; font-weight: bold; letter-spacing: 0.05em; display: inline-block; margin-top: 1.5rem; }
        a.back:hover { text-decoration: underline; }
        .guild-nav {
            margin: 3rem auto 0;
            max-width: 900px;
            padding: 1.2rem 1.5rem;
            border-radius: 18px;
            background: rgba(27, 26, 36, 0.85);
            border: 1px solid rgba(255, 219, 144, 0.35);
            display: grid;
            gap: 0.8rem;
        }
        .guild-label {
            text-transform: uppercase;
            letter-spacing: 0.08em;
            font-size: 0.75rem;
            color: #ffe6a7;
            text-align: center;
        }
        .guild-nav ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 0.8rem;
            padding: 0;
            margin: 0;
        }
        .guild-nav a {
            display: block;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.85rem;
            color: #ffe6a7;
            padding: 0.6rem 0.8rem;
            border-radius: 14px;
            background: rgba(255, 219, 144, 0.18);
            text-align: center;
            transition: background 0.3s ease, color 0.3s ease;
        }
        .guild-nav a:hover,
        .guild-nav a:focus {
            background: rgba(255, 219, 144, 0.35);
            color: #1b1a24;
        }
    </style>
</head>
<body>
    <header>
        <h1>Archivum Vitae ‚Äî Living Library Guild</h1>
        <p>The Archivum Vitae keeps our references alive. Guild scribes collect sacred texts, oral histories, and modern manuals, pairing each with notes and discussion circles so every initiate can study with guidance.</p>
        <div class="blessing-banner" aria-label="Library blessings">
            <span>‚ú∂ <em>‚ÄúPeace I leave with you; my peace I give you.‚Äù ‚Äî Jesus (John 14:27)</em></span>
            <span>‚ú∂ <em>‚ÄúMay the lamp of knowledge remove the darkness of ignorance.‚Äù ‚Äî Invocation to Saraswati</em></span>
            <span>‚ú∂ <em>‚ÄúAs rain falls equally on the just and unjust, let your heart be impartial.‚Äù ‚Äî The Buddha</em></span>
        </div>
        <a class="back" href="index.html">‚Üê Return to the Pavilion</a>
    </header>

    <section class="shelves" aria-label="Living Library study rooms">
        <article class="shelf">
            <h2>Shelf I ¬∑ Hindu Wisdom Room</h2>
            <ul>
                <li>Bhagavad Gita ‚Äî annotated with line-by-line commentary circles.</li>
                <li>Upanishads ‚Äî audio recitations from multilingual volunteers.</li>
                <li>Vedas ‚Äî curated excerpts focused on ritual, cosmology, and ethics.</li>
            </ul>
        </article>
        <article class="shelf">
            <h2>Shelf II ¬∑ Buddhist Insights Room</h2>
            <ul>
                <li>Dhammapada ‚Äî daily verse reflections recorded by community elders.</li>
                <li>Heart Sutra ‚Äî interactive diagrams exploring emptiness teachings.</li>
                <li>Tibetan Book of the Dead ‚Äî peer study group transcripts.</li>
            </ul>
        </article>
        <article class="shelf">
            <h2>Shelf III ¬∑ Comparative Studies Room</h2>
            <ul>
                <li>Perennial Philosophy ‚Äî roundtable discussions and notes.</li>
                <li>World Religions ‚Äî shared timelines mapping cross-tradition echoes.</li>
                <li>Mysticism East &amp; West ‚Äî gallery of key metaphors and practices.</li>
            </ul>
        </article>
        <article class="shelf">
            <h2>Shelf IV ¬∑ Meditation &amp; Practice Room</h2>
            <ul>
                <li>Mindfulness Guide ‚Äî printable practice cards for quick sessions.</li>
                <li>Pranayama Techniques ‚Äî annotated breath sequences with safety cues.</li>
                <li>Zen Practice ‚Äî community podcast with weekly koan reflections.</li>
            </ul>
        </article>
    </section>

    <section class="library-holdings" aria-labelledby="public-domain-holdings">
        <div class="library-holdings__header">
            <h2 id="public-domain-holdings">Mirrored Public-Domain Holdings</h2>
            <p>Guild archivists keep at least three mirrored editions on-site so that every initiate has resilient access to our shared study canon. Each card below names the lineage, shares our lore-friendly study focus, and links to the local copy.</p>
        </div>
        <div class="book-grid" role="list" data-library-grid></div>
        <template id="book-card-template">
            <article class="book-card" role="listitem" data-book-card>
                <header class="book-card__header">
                    <p class="book-card__lesson" data-field="lesson"></p>
                    <h3 data-field="title"></h3>
                    <p class="book-card__author" data-field="author"></p>
                </header>
                <dl class="book-card__meta">
                    <div>
                        <dt>Format</dt>
                        <dd data-field="format"></dd>
                    </div>
                    <div>
                        <dt>Guild Lore</dt>
                        <dd data-field="lore"></dd>
                    </div>
                </dl>
                <blockquote class="book-card__excerpt" data-field="excerpt"></blockquote>
                <div class="book-card__controls" data-tts-container>
                    <button type="button" class="button" data-tts-action="play">‚ñ∂ Play excerpt</button>
                    <button type="button" class="button button--ghost" data-tts-action="pause" disabled>‚è∏ Pause narration</button>
                </div>
                <div class="book-card__actions">
                    <a class="button" data-action="download" download>‚¨á Download text</a>
                    <a class="button button--ghost" data-action="read" target="_blank" rel="noopener">üìñ Read locally</a>
                </div>
            </article>
        </template>
    </section>

    <section class="tts-evaluation" aria-labelledby="tts-eval-heading">
        <h2 id="tts-eval-heading">Voice Invocation Assessment</h2>
        <p>The guild tested the browser-native <strong>Web Speech API</strong> because it requires no external services, keeps sacred texts offline, and respects our moneyless charter. Modern Chromium, Firefox, and Safari builds expose speech synthesis voices without additional dependencies, though mobile Safari presently limits background playback. The controls above lean on this API to offer immediate play and pause support per excerpt; if a visitor‚Äôs browser lacks the feature, the buttons announce that speech is unavailable and fall back to silent reading.</p>
    </section>

    <section class="tracks">
        <h2>Guild Learning Tracks</h2>
        <div class="tracks-grid">
            <div class="track-card">
                <strong>Beginner</strong>
                <p>Introduction to Eastern Philosophy ‚Äî eight gentle lessons with group check-ins.</p>
            </div>
            <div class="track-card">
                <strong>Intermediate</strong>
                <p>Deep Dive into Sacred Texts ‚Äî twelve-week seminar alternating study and practice labs.</p>
            </div>
            <div class="track-card">
                <strong>Advanced</strong>
                <p>Comparative Analysis &amp; Practice ‚Äî fifteen sessions ending with a community-led symposium.</p>
            </div>
        </div>
    </section>

    <section class="tracks" aria-labelledby="open-sources">
        <h2 id="open-sources">Open-Source Book Notes</h2>
        <p style="margin-bottom: 1.4rem; opacity: 0.85;">Every text in the stacks should come from a repository that welcomes sharing. These are the collections we have verified so far, along with reminders of the licenses that keep them freely distributable.</p>
        <div class="tracks-grid">
            <div class="track-card">
                <strong>Standard Ebooks</strong>
                <p>Curated public-domain classics with clean EPUB/Kindle builds. Licensed CC0 ‚Äî we can mirror releases and note upstream contributors when we prepare our pull requests.</p>
            </div>
            <div class="track-card">
                <strong>Internet Archive ‚Äì Open Library</strong>
                <p>Digital lending plus a public-domain collection. When selecting titles, confirm the "Public Domain" badge or CC license to ensure redistribution fits our commons.</p>
            </div>
            <div class="track-card">
                <strong>Project Gutenberg</strong>
                <p>Over 70,000 volunteer-produced ebooks. Mark specific titles for ingestion and keep the mirror scripts handy for a future automation pull request.</p>
            </div>
            <div class="track-card">
                <strong>Wikimedia Source Texts</strong>
                <p>Translations and commentaries hosted on Wikisource/Wikibooks under CC BY-SA. Track attribution requirements in our notes before we store excerpts.</p>
            </div>
        </div>
        <p style="margin-top: 1.6rem; font-size: 0.95rem; opacity: 0.75;">Next action: create ingestion scripts and citation templates, then open a pull request to add the first mirrored editions with proper metadata.</p>
    </section>

    <nav class="guild-nav" aria-label="Guild ranks of the Order">
        <p class="guild-label">Guild Ranks of the Order</p>
        <ul>
            <li><a href="index.html">Outer Court ¬∑ Visitors</a></li>
            <li><a href="sacred-spaces.html">Sanctum of Stillness ¬∑ Sacred Spaces Guild</a></li>
            <li><a href="journeys.html">Hall of Paths ¬∑ Continuance Circle</a></li>
            <li><a href="living-library.html">Archivum Vitae ¬∑ Living Library Guild</a></li>
            <li><a href="local-ai-companion.html">Workshop of Whispering Circuits ¬∑ Companion Artificers</a></li>
            <li><a href="steward-board.html">Council Hearth ¬∑ Steward Board</a></li>
        </ul>
    </nav>

    <footer>
        Future work: digitize more oral histories, add language accessibility layers, and connect track completion with Steward Board missions. ‚ÄúSet your heart upon your work, never on its reward.‚Äù ‚Äî Lord Krishna
    </footer>

    <script>
        (function () {
            const supportWarning = 'Speech synthesis is unavailable in this browser.';
            const containers = Array.from(document.querySelectorAll('[data-tts-target]'));
            if (!('speechSynthesis' in window)) {
                containers.forEach((container) => {
                    container.querySelectorAll('button').forEach((button) => {
                        button.disabled = true;
                        button.setAttribute('aria-disabled', 'true');
                        button.title = supportWarning;
                        button.textContent = 'Speech unavailable';
                    });
                });
                return;
            }

            const synthesis = window.speechSynthesis;

            function resetButtons(container) {
                container.querySelectorAll('[data-tts-action="pause"]').forEach((pauseButton) => {
                    pauseButton.disabled = true;
                });
                container.querySelectorAll('[data-tts-action="play"]').forEach((playButton) => {
                    playButton.disabled = false;
                    playButton.textContent = '‚ñ∂ Play excerpt';
                });
            }

            function announceState(container, message) {
                container.setAttribute('data-tts-status', message);
            }

            containers.forEach((container) => {
                const targetId = container.getAttribute('data-tts-target');
                const excerpt = document.getElementById(targetId);
                if (!excerpt) {
                    return;
                }
                const text = excerpt.textContent.trim();
                const lang = container.getAttribute('data-tts-lang') || 'en-US';
                const playButton = container.querySelector('[data-tts-action="play"]');
                const pauseButton = container.querySelector('[data-tts-action="pause"]');

                playButton.addEventListener('click', () => {
                    if (currentContainer === container && synthesis.paused) {
                        synthesis.resume();
                        pauseButton.disabled = false;
                        playButton.textContent = '‚ñ∂ Playing‚Ä¶';
                        announceState(container, 'playing');
                        return;
                    }

                    if (synthesis.speaking) {
                        synthesis.cancel();
                    }

                    currentUtterance = new SpeechSynthesisUtterance(text);
                    currentUtterance.lang = lang;
                    currentUtterance.rate = 1;
                    currentUtterance.onend = currentUtterance.onerror = () => {
                        if (currentTtsContainer === container) {
                            resetButtons(container);
                            announceState(container, 'idle');
                            currentTtsContainer = null;
                        if (currentContainer === container) {
                            resetButtons(container);
                            announceState(container, 'idle');
                            currentContainer = null;
                            currentUtterance = null;
                        }
                    };

                    containers.forEach((otherContainer) => {
                        if (otherContainer !== container) {
                            resetButtons(otherContainer);
                            announceState(otherContainer, 'idle');
                        }
                    });

                    pauseButton.disabled = false;
                    playButton.textContent = '‚ñ∂ Playing‚Ä¶';
                    announceState(container, 'playing');
                    currentTtsContainer = container;
                    synthesis.speak(currentUtterance);
                });

                pauseButton.addEventListener('click', () => {
                    if (currentContainer !== container) {
                        return;
                    }
                    if (synthesis.speaking && !synthesis.paused) {
                        synthesis.pause();
                        pauseButton.disabled = true;
                        playButton.disabled = false;
                        playButton.textContent = '‚ñ∂ Resume excerpt';
                        announceState(container, 'paused');
                    }
                });
            });
        }
        })();
    </script>
</body>
</html>
